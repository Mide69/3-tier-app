# 3-Tier Architecture Diagram

## ASCII Architecture Diagram

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                INTERNET                                         │
└─────────────────────────────┬───────────────────────────────────────────────────┘
                              │
┌─────────────────────────────┴───────────────────────────────────────────────────┐
│                        AMAZON CLOUDFRONT (CDN)                                 │
│                     Global Edge Locations                                      │
└─────────────────────────────┬───────────────────────────────────────────────────┘
                              │
┌─────────────────────────────┴───────────────────────────────────────────────────┐
│                           AWS SHIELD + WAF                                     │
│                        DDoS Protection & Firewall                              │
└─────────────────────────────┬───────────────────────────────────────────────────┘
                              │
┌─────────────────────────────┴───────────────────────────────────────────────────┐
│                              AWS VPC                                           │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                        PUBLIC SUBNETS                                   │   │
│  │  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                │   │
│  │  │     AZ-A    │    │     AZ-B    │    │     AZ-C    │                │   │
│  │  │             │    │             │    │             │                │   │
│  │  │ ┌─────────┐ │    │ ┌─────────┐ │    │ ┌─────────┐ │                │   │
│  │  │ │   ALB   │ │    │ │   ALB   │ │    │ │   ALB   │ │                │   │
│  │  │ └─────────┘ │    │ └─────────┘ │    │ └─────────┘ │                │   │
│  │  │             │    │             │    │             │                │   │
│  │  │ ┌─────────┐ │    │ ┌─────────┐ │    │ ┌─────────┐ │                │   │
│  │  │ │NAT GW   │ │    │ │NAT GW   │ │    │ │NAT GW   │ │                │   │
│  │  │ └─────────┘ │    │ └─────────┘ │    │ └─────────┘ │                │   │
│  │  └─────────────┘    └─────────────┘    └─────────────┘                │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                    │                                           │
│  ┌─────────────────────────────────┴───────────────────────────────────────┐   │
│  │                    TIER 1: PRESENTATION LAYER                          │   │
│  │                        PRIVATE SUBNETS                                 │   │
│  │  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                │   │
│  │  │     AZ-A    │    │     AZ-B    │    │     AZ-C    │                │   │
│  │  │             │    │             │    │             │                │   │
│  │  │ ┌─────────┐ │    │ ┌─────────┐ │    │ ┌─────────┐ │                │   │
│  │  │ │Web Srv  │ │    │ │Web Srv  │ │    │ │Web Srv  │ │                │   │
│  │  │ │EC2/ECS  │ │    │ │EC2/ECS  │ │    │ │EC2/ECS  │ │                │   │
│  │  │ └─────────┘ │    │ └─────────┘ │    │ └─────────┘ │                │   │
│  │  └─────────────┘    └─────────────┘    └─────────────┘                │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                    │                                           │
│  ┌─────────────────────────────────┴───────────────────────────────────────┐   │
│  │                    TIER 2: APPLICATION LAYER                           │   │
│  │                        PRIVATE SUBNETS                                 │   │
│  │  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                │   │
│  │  │     AZ-A    │    │     AZ-B    │    │     AZ-C    │                │   │
│  │  │             │    │             │    │             │                │   │
│  │  │ ┌─────────┐ │    │ ┌─────────┐ │    │ ┌─────────┐ │                │   │
│  │  │ │App Srv  │ │    │ │App Srv  │ │    │ │App Srv  │ │                │   │
│  │  │ │EC2/ECS  │ │    │ │EC2/ECS  │ │    │ │EC2/ECS  │ │                │   │
│  │  │ │Lambda   │ │    │ │Lambda   │ │    │ │Lambda   │ │                │   │
│  │  │ └─────────┘ │    │ └─────────┘ │    │ └─────────┘ │                │   │
│  │  └─────────────┘    └─────────────┘    └─────────────┘                │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                    │                                           │
│  ┌─────────────────────────────────┴───────────────────────────────────────┐   │
│  │                      TIER 3: DATA LAYER                                │   │
│  │                        PRIVATE SUBNETS                                 │   │
│  │  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                │   │
│  │  │     AZ-A    │    │     AZ-B    │    │     AZ-C    │                │   │
│  │  │             │    │             │    │             │                │   │
│  │  │ ┌─────────┐ │    │ ┌─────────┐ │    │ ┌─────────┐ │                │   │
│  │  │ │RDS      │ │    │ │RDS      │ │    │ │ElastiC  │ │                │   │
│  │  │ │Primary  │ │    │ │Standby  │ │    │ │Cache    │ │                │   │
│  │  │ └─────────┘ │    │ └─────────┘ │    │ └─────────┘ │                │   │
│  │  │             │    │             │    │             │                │   │
│  │  │ ┌─────────┐ │    │ ┌─────────┐ │    │ ┌─────────┐ │                │   │
│  │  │ │Read     │ │    │ │Read     │ │    │ │S3       │ │                │   │
│  │  │ │Replica  │ │    │ │Replica  │ │    │ │Buckets  │ │                │   │
│  │  │ └─────────┘ │    │ └─────────┘ │    │ └─────────┘ │                │   │
│  │  └─────────────┘    └─────────────┘    └─────────────┘                │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────┐
│                           SUPPORTING SERVICES                                  │
│                                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐           │
│  │ CloudWatch  │  │   X-Ray     │  │ GuardDuty   │  │   Config    │           │
│  │ Monitoring  │  │  Tracing    │  │ Security    │  │ Compliance  │           │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘           │
│                                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐           │
│  │    IAM      │  │    KMS      │  │  Secrets    │  │   Backup    │           │
│  │   Roles     │  │Encryption   │  │  Manager    │  │  Service    │           │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘           │
│                                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐           │
│  │CodePipeline │  │ CloudTrail  │  │OpenSearch   │  │   Route53   │           │
│  │   CI/CD     │  │   Audit     │  │    Logs     │  │     DNS     │           │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘           │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## Data Flow

1. **User Request** → CloudFront → WAF → ALB (Public)
2. **Web Tier** → Internal ALB → Application Tier
3. **Application Tier** → RDS/ElastiCache → Data Processing
4. **Response** ← Reverse path with caching at each layer

## Security Boundaries

- **Internet Gateway**: Public subnet access only
- **NAT Gateway**: Outbound internet for private subnets
- **Security Groups**: Instance-level firewall rules
- **NACLs**: Subnet-level access control
- **IAM Roles**: Service-to-service authentication
- **VPC Endpoints**: Private AWS service access

## Auto Scaling Triggers

- **CPU Utilization**: > 70% scale out, < 30% scale in
- **Memory Usage**: > 80% scale out, < 40% scale in
- **Request Count**: > 1000 req/min scale out
- **Response Time**: > 500ms scale out
- **Custom Metrics**: Application-specific triggers